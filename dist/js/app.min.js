"use strict";$(function(){$(function(){$(window).on({load:function(){$(".spinner").addClass("hide")}}),$(".collection").each(function(){new n($(this))}),$(".site__header").each(function(){new c($(this))}),$(".site__title").each(function(){new a($(this))}),$(".menu__btn").each(function(){new e($(this))}),$(".must-have").each(function(){new o($(this))}),$(".most-wanted").each(function(){new i($(this))}),$(".sale").each(function(){new s($(this))}),$(".news").each(function(){new t($(this))})});var n=function(n){var t=n,o=t.find(".site__title"),i=t.find(".collection__pic"),s=t.find(".collection__wrap"),e=.15,c=.05,a=.3,f=function(){$(window).on({scroll:function(){var n=$(this).scrollTop();o.css({transform:"translate(0px, "+n*a+"px )"}),i.css({transform:"translate(0px, "+n*e+"px )"}),s.css({transform:"translate("+n*c+"px, 0px )"})}})},r=function(){f()};r()},t=function(n){var t=n,o=t.find(".news__item"),i=function(){o.each(function(){var n=$(this),t=n.find("img"),o='<div class="news__item-face"></div>';n.prepend(o),n.prepend(t.clone()),n.find(".news__item-face").prepend(t.clone())})},s=function(){i()};s()},o=function(n){var t=n,o=t.offset().top,i=t.find(".site__title"),s=t.find(".must-have__item").eq(0),e=t.find(".must-have__item").eq(1),c=-.1,a=.1,f=.3;s=s.find(".must-have__bg"),e=e.find(".must-have__bg");var r=function(){$(window).on({scroll:function(){var n=$(this).scrollTop()-o+$(window).height();i.css({transform:"translate(0px, "+n*f+"px )"}),s.css({transform:"translate(0px, "+n*c+"px )"}),e.css({transform:"translate(0px, "+n*a+"px )"})}})},l=function(){r()};l()},i=function(n){var t=n,o=t.offset().top,i=t.find(".site__title"),s=.3,e=function(){$(window).on({scroll:function(){var n=$(this).scrollTop()-o+$(window).height();i.css({transform:"translate(0px, "+n*s+"px )"})}})},c=function(){e()};c()},s=function(n){var t=n,o=t.offset().top,i=t.find(".site__title"),s=t.find(".sale__bg"),e=(t.find(".sale__item"),.3),c=.15,a=function(){$(window).on({scroll:function(){var n=$(this).scrollTop()-o+$(window).height();i.css({transform:"translate(0px, "+n*e+"px )"}),s.css({transform:"translate(0px, "+n*c+"px )"})}})},f=function(){a()};f()},e=function(n){var t=n,o=$(".site"),i=t.parent(),s=function(){t.on({click:function(){i.addClass("open"),o.addClass("blur")}}),$("body").on({click:function(){i.removeClass("open"),o.removeClass("blur")}}),i.on({click:function(n){var n=n||window.event;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}})},e=function(){s()};e()},c=function(n){var t=n,o=t.find(".site__header-bg"),i=.5,s=t.find(".philosophy"),e=function(){$(window).on({scroll:function(){var n=$(this).scrollTop();o.css({transform:"translate(0px, "+n*i+"px )"}),c(n)}})},c=function(n){n>=t.scrollTop()&&n<t.height()?s.addClass("philosophy_show"):s.removeClass("philosophy_show")},a=function(){e(),c($(window).scrollTop())};a()},a=function(n){var t=n,o=function(){var n=t.text().replace(/\s/g,""),o=n.split(""),i=o.length;t.text("");for(var s=0;i>s;s++)t.append("<span>"+o[s]+"</span>")},i=function(){o(t)};i()}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93Iiwib24iLCJsb2FkIiwiYWRkQ2xhc3MiLCJlYWNoIiwiQ29sbGVjdGlvbiIsInRoaXMiLCJIZWFkZXIiLCJTaXRlVGl0bGUiLCJNZW51IiwiTXVzdEhhdmUiLCJNb3N0V2FudGVkIiwiU2FsZSIsIk5ld3MiLCJvYmoiLCJfb2JqIiwiX3NpdGVUaXRsZSIsImZpbmQiLCJfY29sbGVjdGlvblBpYyIsIl9jb2xsZWN0aW9uV3JhcCIsIl9jb2xsZWN0aW9uUGljS29lZiIsIl9jb2xsZWN0aW9uV3JhcEtvZWYiLCJfc2l0ZVRpdGxlS29lZiIsIl9hZGRFdmVudHMiLCJzY3JvbGwiLCJzY3JvbGxQb3MiLCJzY3JvbGxUb3AiLCJjc3MiLCJ0cmFuc2Zvcm0iLCJfaW5pdCIsIl9pdGVtIiwiX2NyZWF0ZSIsImN1ckVsZW0iLCJjdXJQaWMiLCJmYWNlRWxlbSIsInByZXBlbmQiLCJjbG9uZSIsIl9vYmpUb3AiLCJvZmZzZXQiLCJ0b3AiLCJfbXVzdEhhdmVJdGVtMSIsImVxIiwiX211c3RIYXZlSXRlbTIiLCJfbXVzdEhhdmVJdGVtS29lZjEiLCJfbXVzdEhhdmVJdGVtS29lZjIiLCJoZWlnaHQiLCJfc2FsZUJnIiwiX3NhbGVCZ0tvZWYiLCJfc2l0ZSIsIl9tZW51IiwicGFyZW50IiwiY2xpY2siLCJyZW1vdmVDbGFzcyIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiY2FuY2VsQnViYmxlIiwiX3NpdGVIZWFkZXJCZyIsIl9zaXRlSGVhZGVyS29lZiIsIl9waGlsb3NvcGh5IiwiX3RleHRTaG93IiwicG9zIiwiX2NyZWF0ZUxpbmUiLCJsaW5lIiwidGV4dCIsInJlcGxhY2UiLCJhcnIiLCJzcGxpdCIsImFyckxlbmd0aCIsImxlbmd0aCIsImkiLCJhcHBlbmQiXSwibWFwcGluZ3MiOiJBQUFBLFlBQUFBLEdBQUUsV0FHRUEsRUFBRSxXQUVFQSxFQUFFQyxRQUFRQyxJQUNOQyxLQUFRLFdBQ0pILEVBQUcsWUFB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V0FDTixHQUFJQyxHQUFZMUIsRUFBRU8sTUFBTW9CLFdBRXhCOEIsR0FBYzdCLEtBQ1ZDLFVBQWEsa0JBQTRCSCxFQUFVZ0MsRUFBbUIsU0FHMUVFLEVBQVVsQyxPQUt0QmtDLEVBQVksU0FBU0MsR0FDWkEsR0FBTzdDLEVBQUtXLGFBQWVrQyxFQUFNN0MsRUFBSzhCLFNBQ3ZDYSxFQUFZdkQsU0FBUyxtQkFFckJ1RCxFQUFZTixZQUFZLG9CQUdoQ3ZCLEVBQVEsV0FDSk4sSUFDQW9DLEVBQVU1RCxFQUFFQyxRQUFRMEIsYUFPNUJHLE1BR0FyQixFQUFZLFNBQVNNLEdBR3JCLEdBQUlDLEdBQU9ELEVBR1ArQyxFQUFjLFdBQ1YsR0FBSUMsR0FBTy9DLEVBQUtnRCxPQUFPQyxRQUFRLE1BQU8sSUFDbENDLEVBQU1ILEVBQUtJLE1BQU0sSUFDakJDLEVBQVlGLEVBQUlHLE1BRXBCckQsR0FBS2dELEtBQUssR0FFVixLQUFNLEdBQUlNLEdBQUksRUFBT0YsRUFBSkUsRUFBZUEsSUFDNUJ0RCxFQUFLdUQsT0FBTyxTQUFXTCxFQUFJSSxHQUFLLFlBR3hDeEMsRUFBUSxXQUNKZ0MsRUFBWTlDLEdBT3BCYyIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgICQoZnVuY3Rpb24oKXtcblxuICAgICAgICAkKHdpbmRvdykub24oIHtcbiAgICAgICAgICAgICdsb2FkJzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCggJy5zcGlubmVyJykuYWRkQ2xhc3MoICdoaWRlJyApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJCgnLmNvbGxlY3Rpb24nKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBDb2xsZWN0aW9uKCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgICAgICAkKCcuc2l0ZV9faGVhZGVyJykuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBuZXcgSGVhZGVyKCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgICAgICAkKCcuc2l0ZV9fdGl0bGUnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBTaXRlVGl0bGUoICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgICQoJy5tZW51X19idG4nKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBNZW51KCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgICAgICAkKCcubXVzdC1oYXZlJykuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBuZXcgTXVzdEhhdmUoICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgICQoJy5tb3N0LXdhbnRlZCcpLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbmV3IE1vc3RXYW50ZWQoICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgICQoJy5zYWxlJykuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBuZXcgU2FsZSggJCh0aGlzKSApO1xuICAgICAgICB9ICk7XG5cbiAgICAgICAgJCgnLm5ld3MnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBOZXdzKCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgIH0pO1xuXG4gICAgdmFyIENvbGxlY3Rpb24gPSBmdW5jdGlvbihvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9zaXRlVGl0bGUgPSBfb2JqLmZpbmQoJy5zaXRlX190aXRsZScpLFxuICAgICAgICAgICAgX2NvbGxlY3Rpb25QaWMgPSBfb2JqLmZpbmQoJy5jb2xsZWN0aW9uX19waWMnKSxcbiAgICAgICAgICAgIF9jb2xsZWN0aW9uV3JhcCA9IF9vYmouZmluZCgnLmNvbGxlY3Rpb25fX3dyYXAnKSxcbiAgICAgICAgICAgIF9jb2xsZWN0aW9uUGljS29lZiA9IDAuMTUsXG4gICAgICAgICAgICBfY29sbGVjdGlvbldyYXBLb2VmID0gMC4wNSxcbiAgICAgICAgICAgIF9zaXRlVGl0bGVLb2VmID0gMC4zO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAkKHdpbmRvdykub24oIHtcbiAgICAgICAgICAgICAgICAgICAgJ3Njcm9sbCc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFBvcyA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaXRlVGl0bGUuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoJyArIDAgKyAncHgsICcgKyBzY3JvbGxQb3MqX3NpdGVUaXRsZUtvZWYgKyAgJ3B4ICknXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb2xsZWN0aW9uUGljLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCcgKyAwICsgJ3B4LCAnICsgc2Nyb2xsUG9zKl9jb2xsZWN0aW9uUGljS29lZiArICAncHggKSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbGxlY3Rpb25XcmFwLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCcgKyBzY3JvbGxQb3MqX2NvbGxlY3Rpb25XcmFwS29lZiArICdweCwgJyArIDAgKyAgJ3B4ICknXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBOZXdzID0gZnVuY3Rpb24ob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaXRlbSA9IF9vYmouZmluZCggJy5uZXdzX19pdGVtJyApO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY3JlYXRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfaXRlbS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckVsZW0gPSAkKCB0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clBpYyA9IGN1ckVsZW0uZmluZCggJ2ltZycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjZUVsZW0gPSAnPGRpdiBjbGFzcz1cIm5ld3NfX2l0ZW0tZmFjZVwiPjwvZGl2Pic7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5wcmVwZW5kKGZhY2VFbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5wcmVwZW5kKGN1clBpYy5jbG9uZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5maW5kKCcubmV3c19faXRlbS1mYWNlJykucHJlcGVuZChjdXJQaWMuY2xvbmUoKSk7XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfY3JlYXRlKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIE11c3RIYXZlID0gZnVuY3Rpb24ob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfb2JqVG9wID0gX29iai5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICBfc2l0ZVRpdGxlID0gX29iai5maW5kKCcuc2l0ZV9fdGl0bGUnKSxcbiAgICAgICAgICAgIF9tdXN0SGF2ZUl0ZW0xID0gX29iai5maW5kKCcubXVzdC1oYXZlX19pdGVtJykuZXEoMCksXG4gICAgICAgICAgICBfbXVzdEhhdmVJdGVtMiA9IF9vYmouZmluZCgnLm11c3QtaGF2ZV9faXRlbScpLmVxKDEpLFxuICAgICAgICAgICAgX211c3RIYXZlSXRlbUtvZWYxID0gLTAuMSxcbiAgICAgICAgICAgIF9tdXN0SGF2ZUl0ZW1Lb2VmMiA9IDAuMSxcbiAgICAgICAgICAgIF9zaXRlVGl0bGVLb2VmID0gMC4zO1xuXG4gICAgICAgIF9tdXN0SGF2ZUl0ZW0xID0gX211c3RIYXZlSXRlbTEuZmluZCgnLm11c3QtaGF2ZV9fYmcnKTtcblxuICAgICAgICBfbXVzdEhhdmVJdGVtMiA9IF9tdXN0SGF2ZUl0ZW0yLmZpbmQoJy5tdXN0LWhhdmVfX2JnJyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICQod2luZG93KS5vbigge1xuICAgICAgICAgICAgICAgICAgICAnc2Nyb2xsJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxQb3MgPSAkKHRoaXMpLnNjcm9sbFRvcCgpIC0gX29ialRvcCArICQod2luZG93KS5oZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3NpdGVUaXRsZS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSgnICsgMCArICdweCwgJyArIHNjcm9sbFBvcypfc2l0ZVRpdGxlS29lZiArICAncHggKSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX211c3RIYXZlSXRlbTEuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoJyArIDAgKyAncHgsICcgKyBzY3JvbGxQb3MqX211c3RIYXZlSXRlbUtvZWYxICsgICdweCApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbXVzdEhhdmVJdGVtMi5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSgnICsgMCArICdweCwgJyArIHNjcm9sbFBvcypfbXVzdEhhdmVJdGVtS29lZjIgKyAgJ3B4ICknXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgTW9zdFdhbnRlZCA9IGZ1bmN0aW9uKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX29ialRvcCA9IF9vYmoub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgX3NpdGVUaXRsZSA9IF9vYmouZmluZCgnLnNpdGVfX3RpdGxlJyksXG4gICAgICAgICAgICBfc2l0ZVRpdGxlS29lZiA9IDAuMztcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgICdzY3JvbGwnOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFBvcyA9ICQodGhpcykuc2Nyb2xsVG9wKCkgLSBfb2JqVG9wICsgJCh3aW5kb3cpLmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2l0ZVRpdGxlLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCcgKyAwICsgJ3B4LCAnICsgc2Nyb2xsUG9zKl9zaXRlVGl0bGVLb2VmICsgICdweCApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFNhbGUgPSBmdW5jdGlvbihvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9vYmpUb3AgPSBfb2JqLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgIF9zaXRlVGl0bGUgPSBfb2JqLmZpbmQoJy5zaXRlX190aXRsZScpLFxuICAgICAgICAgICAgX3NhbGVCZyA9IF9vYmouZmluZCgnLnNhbGVfX2JnJyksXG4gICAgICAgICAgICBfc2FsZUl0ZW0gPSBfb2JqLmZpbmQoJy5zYWxlX19pdGVtJyksXG4gICAgICAgICAgICBfc2l0ZVRpdGxlS29lZiA9IDAuMyxcbiAgICAgICAgICAgIF9zYWxlQmdLb2VmID0gMC4xNTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgICdzY3JvbGwnOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFBvcyA9ICQodGhpcykuc2Nyb2xsVG9wKCkgLSBfb2JqVG9wICsgJCh3aW5kb3cpLmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2l0ZVRpdGxlLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCcgKyAwICsgJ3B4LCAnICsgc2Nyb2xsUG9zKl9zaXRlVGl0bGVLb2VmICsgICdweCApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2FsZUJnLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCcgKyAwICsgJ3B4LCAnICsgc2Nyb2xsUG9zKl9zYWxlQmdLb2VmICsgICdweCApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIE1lbnUgPSBmdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3NpdGUgPSAkKCcuc2l0ZScpLFxuICAgICAgICAgICAgX21lbnUgPSBfb2JqLnBhcmVudCgpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9vYmoub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX21lbnUuYWRkQ2xhc3MoICdvcGVuJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NpdGUuYWRkQ2xhc3MoICdibHVyJyApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgJCgnYm9keScpLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9tZW51LnJlbW92ZUNsYXNzKCAnb3BlbicgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaXRlLnJlbW92ZUNsYXNzKCAnYmx1cicgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9tZW51Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZXZlbnQuc3RvcFByb3BhZ2F0aW9uICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBIZWFkZXIgPSBmdW5jdGlvbihvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9zaXRlSGVhZGVyQmcgPSBfb2JqLmZpbmQoJy5zaXRlX19oZWFkZXItYmcnKSxcbiAgICAgICAgICAgIF9zaXRlSGVhZGVyS29lZiA9IDAuNSxcbiAgICAgICAgICAgIF9waGlsb3NvcGh5ID0gX29iai5maW5kKCcucGhpbG9zb3BoeScpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAkKHdpbmRvdykub24oIHtcbiAgICAgICAgICAgICAgICAgICAgJ3Njcm9sbCc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFBvcyA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaXRlSGVhZGVyQmcuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoJyArIDAgKyAncHgsICcgKyBzY3JvbGxQb3MqX3NpdGVIZWFkZXJLb2VmICsgICdweCApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGV4dFNob3coc2Nyb2xsUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF90ZXh0U2hvdyA9IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgICAgIGlmICggcG9zID49IF9vYmouc2Nyb2xsVG9wKCkgJiYgcG9zIDwgX29iai5oZWlnaHQoKSApIHtcbiAgICAgICAgICAgICAgICAgICAgX3BoaWxvc29waHkuYWRkQ2xhc3MoJ3BoaWxvc29waHlfc2hvdycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF9waGlsb3NvcGh5LnJlbW92ZUNsYXNzKCdwaGlsb3NvcGh5X3Nob3cnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX3RleHRTaG93KCQod2luZG93KS5zY3JvbGxUb3AoKSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFNpdGVUaXRsZSA9IGZ1bmN0aW9uKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfb2JqID0gb2JqO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfY3JlYXRlTGluZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBsaW5lID0gX29iai50ZXh0KCkucmVwbGFjZSgvXFxzL2csIFwiXCIpLFxuICAgICAgICAgICAgICAgICAgICBhcnIgPSBsaW5lLnNwbGl0KCcnKSxcbiAgICAgICAgICAgICAgICAgICAgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIF9vYmoudGV4dCgnJyk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBfb2JqLmFwcGVuZCgnPHNwYW4+JyArIGFycltpXSArICc8L3NwYW4+Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX2NyZWF0ZUxpbmUoX29iaik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
