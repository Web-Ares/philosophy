"use strict";$(function(){$(function(){function r(n,t,i,o){n.css({transform:"translate("+t*o+"px, "+i*o+"px )"})}$(window).on({load:function(){setTimeout(function(){$(".spinner").addClass("hide")},1e3)}}),$(".collection").each(function(){new n($(this))}),$(".site__header").each(function(){new c($(this))}),$(".site__title").each(function(){new a($(this))}),$(".menu").each(function(){new e($(this))}),$(".must-have").each(function(){new i($(this))}),$(".most-wanted").each(function(){new o($(this))}),$(".sale").each(function(){new s($(this))}),$(".news").each(function(){new t($(this))}),$("body").mCustomScrollbar({callbacks:{whileScrolling:function(){var n=parseInt(-1*this.mcs.top);$(".site__header")[0].obj.paralax(n),r($(".collection .site__title"),0,n,.3),r($(".collection__pic"),0,n,.15),r($(".collection__wrap"),n,0,.05)}}})});var n=function(n){var t=n,i=t.find(".site__title"),o=t.find(".collection__pic"),s=t.find(".collection__wrap"),e=.15,c=.05,a=.3,r=function(){$(window).on({scroll:function(){var n=$(this).scrollTop();i.css({transform:"translate(0px, "+n*a+"px )"}),o.css({transform:"translate(0px, "+n*e+"px )"}),s.css({transform:"translate("+n*c+"px, 0px )"})}})},f=function(){r()};f()},t=function(n){var t=n,i=t.find(".news__item"),o=function(){i.each(function(){var n=$(this),t=n.find("img"),i='<div class="news__item-face"></div>';n.prepend(i),n.prepend(t.clone()),n.find(".news__item-face").prepend(t.clone())})},s=function(){o()};s()},i=function(n){var t=n,i=t.offset().top,o=t.find(".site__title"),s=t.find(".must-have__item").eq(0),e=t.find(".must-have__item").eq(1),c=-.1,a=.1,r=.3;s=s.find(".must-have__bg"),e=e.find(".must-have__bg");var f=function(){$(window).on({scroll:function(){var n=$(this).scrollTop()-i+$(window).height();o.css({transform:"translate(0px, "+n*r+"px )"}),s.css({transform:"translate(0px, "+n*c+"px )"}),e.css({transform:"translate(0px, "+n*a+"px )"})}})},l=function(){f()};l()},o=function(n){var t=n,i=t.offset().top,o=t.find(".site__title"),s=.3,e=function(){$(window).on({scroll:function(){var n=$(this).scrollTop()-i+$(window).height();o.css({transform:"translate(0px, "+n*s+"px )"})}})},c=function(){e()};c()},s=function(n){var t=n,i=t.offset().top,o=t.find(".site__title"),s=t.find(".sale__bg"),e=(t.find(".sale__item"),.3),c=.15,a=function(){$(window).on({scroll:function(){var n=$(this).scrollTop()-i+$(window).height();o.css({transform:"translate(0px, "+n*e+"px )"}),s.css({transform:"translate(0px, "+n*c+"px )"})}})},r=function(){a()};r()},e=function(n){var t=n,i=$(".site"),o=t.find(".menu__wrap"),s=function(){t.on({click:function(){t.toggleClass("open"),i.toggleClass("blur")}}),o.on({click:function(n){var n=n||window.event;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}})},e=function(){s()};e()},c=function(n){var t=this,i=n,o=i.find(".site__header-bg"),s=.5,e=function(){$(window).on({scroll:function(){var n=$(this).scrollTop();o.css({transform:"translate(0px, "+n*s+"px )"})}})},c=function(n){o.css({transform:"translate(0px, "+n*s+"px )"})},a=function(){e(),i[0].obj=t};t.paralax=function(n){c(n)},a()},a=function(n){var t=n,i=function(){var n=t.text().replace(/\s/g,""),i=n.split(""),o=i.length;t.text("");for(var s=0;o>s;s++)t.append("<span>"+i[s]+"</span>")},o=function(){i(t)};o()}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwicGFyYWxheCIsImVsZW0iLCJ4IiwieSIsImtvZWYiLCJjc3MiLCJ0cmFuc2Zvcm0iLCJ3aW5kb3ciLCJvbiIsImxvYWQiLCJzZXRUaW1lb3V0IiwiYWRkQ2xhc3MiLCJlYWNoIiwiQ29sbGVjdGlvbiIsInRoaXMiLCJIZWFkZXIiLCJTaXRlVGl0bGUiLCJNZW51IiwiTXVzdEhhdmUiLCJNb3N0V2FudGVkIiwiU2FsZSIsIk5ld3MiLCJtQ3VzdG9tU2Nyb2xsYmFyIiwiY2FsbGJhY2tzIiwid2hpbGVTY3JvbGxpbmciLCJzY3JvbGxQb3NpdGlvbiIsInBhcnNlSW50IiwibWNzIiwidG9wIiwib2JqIiwiX29iaiIsIl9zaXRlVGl0bGUiLCJmaW5kIiwiX2NvbGxlY3Rpb25QaWMiLCJfY29sbGVjdGlvbldyYXAiLCJfY29sbGVjdGlvblBpY0tvZWYiLCJfY29sbGVjdGlvbldyYXBLb2VmIiwiX3NpdGVUaXRsZUtvZWYiLCJfYWRkRXZlbnRzIiwic2Nyb2xsIiwic2Nyb2xsUG9zIiwic2Nyb2xsVG9wIiwiX2luaXQiLCJfaXRlbSIsIl9jcmVhdGUiLCJjdXJFbGVtIiwiY3VyUGljIiwiZmFjZUVsZW0iLCJwcmVwZW5kIiwiY2xvbmUiLCJfb2JqVG9wIiwib2Zmc2V0IiwiX211c3RIYXZlSXRlbTEiLCJlcSIsIl9tdXN0SGF2ZUl0ZW0yIiwiX211c3RIYXZlSXRlbUtvZWYxIiwiX211c3RIYXZlSXRlbUtvZWYyIiwiaGVpZ2h0IiwiX3NhbGVCZyIsIl9zYWxlQmdLb2VmIiwiX3NpdGUiLCJfd3JhcCIsImNsaWNrIiwidG9nZ2xlQ2xhc3MiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImNhbmNlbEJ1YmJsZSIsIl9zZWxmIiwiX3NpdGVIZWFkZXJCZyIsIl9zaXRlSGVhZGVyS29lZiIsIl9wYXJhbGF4IiwiX2NyZWF0ZUxpbmUiLCJsaW5lIiwidGV4dCIsInJlcGxhY2UiLCJhcnIiLCJzcGxpdCIsImFyckxlbmd0aCIsImxlbmd0aCIsImkiLCJhcHBlbmQiXSwibWFwcGluZ3MiOiJBQUFBLFlBQUFBLEdBQUUsV0FHRUEsRUFBRSxXQXdERSxRQUFTQyxHQUFTQyxFQUFNQyxFQUFHQyxFQUFHQyxHQUMxQkgsRUFBS0ksS0FDREMsVUFBYSxhQUFlSixFQUFFRSxFQUFPLE9BQVNELEVBQUVDLEVBQVEsU0F4RGhFTCxFQUFFUSxRQUFRQyxJQUNOQyxLQUFRLFdBQ0pDLFdBQVksV0FDUlgsRUFBRyxZQUFZWSxTQUFVLFNBQzFCLFFBSVhaLEVBQUUsZUFBZWEsS0FBTSxXQUNuQixHQUFJQyxHQUFZZCxFQUFFZSxTQUd0QmYsRUFBRSxpQkFBaUJhLEtBQU0sV0FDckIsR0FBSUcsR0FBUWhCLEVBQUVlLFNBR2xCZixFQUFFLGdCQUFnQmEsS0FBTSxXQUNwQixHQUFJSSxHQUFXakIsRUFBRWUsU0FHckJmLEVBQUUsU0FBU2EsS0FBTSxXQUNiLEdBQUlLLEdBQU1sQixFQUFFZSxTQUdoQmYsRUFBRSxjQUFjYSxLQUFNLFdBQ2xCLEdBQUlNLEdBQVVuQixFQUFFZSxTQUdwQmYsRUFBRSxnQkFBZ0JhLEtBQU0sV0FDcEIsR0FBSU8sR0FBWXBCLEVBQUVlLFNBR3RCZixFQUFFLFNBQVNhLEtBQU0sV0FDYixHQUFJUSxHQUFNckIsRUFBRWUsU0FHaEJmLEVBQUUsU0FBU2EsS0FBTSxXQUNiLEdBQUlTLEdBQU10QixFQUFFZSxTQUdoQmYsRUFBRyxRQUFTdUIsa0JBQ1JDLFdBQ0lDLGVBQWUsV0FDWCxHQUFJQyxHQUFpQkMsU0FBdUIsR0FBZFosS0FBS2EsSUFBSUMsSUFFdkM3QixHQUFFLGlCQUFpQixHQUFHOEIsSUFBSTdCLFFBQVN5QixHQUVuQ3pCLEVBQVNELEVBQUUsNEJBQTZCLEVBQUcwQixFQUFnQixJQUMzRHpCLEVBQVNELEVBQUUsb0JBQXFCLEVBQUcwQixFQUFnQixLQUNuRHpCLEVBQVNELEVBQUUscUJBQXNCMEIsRUFBZ0IsRUFBRyxVQWFwRSxJQUFJWixHQUFhLFNBQVNnQixHQUd0QixHQUFJQyxHQUFPRCxFQUNQRSxFQUFhRCxFQUFLRSxLQUFLLGdCQUN2QkMsRUFBaUJILEVBQUtFLEtBQUssb0JBQzNCRSxFQUFrQkosRUFBS0UsS0FBSyxxQkFDNUJHLEVBQXFCLElBQ3JCQyxFQUFzQixJQUN0QkMsRUFBaUIsR0FHakJDLEVBQWEsV0FFVHZDLEVBQUVRLFFBQVFDLElBQ04rQixPQUFVLFdBQ04sR0FBSUMsR0FBWXpDLEVBQUVlLE1BQU0yQixXQUV4QlYsR0FBVzFCLEtBQ1BDLFVBQWEsa0JBQTRCa0MsRUFBVUgsRUFBa0IsU0FHekVKLEVBQWU1QixLQUNYQyxVQUFhLGtCQUE0QmtDLEVBQVVMLEVBQXNCLFNBRzdFRCxFQUFnQjdCLEtBQ1pDLFVBQWEsYUFBZWtDLEVBQVVKLEVBQXNCLGtCQU81RU0sRUFBUSxXQUNKSixJQU9SSSxNQUdBckIsRUFBTyxTQUFTUSxHQUdoQixHQUFJQyxHQUFPRCxFQUNQYyxFQUFRYixFQUFLRSxLQUFNLGVBTW5CWSxFQUFVLFdBRU5ELEVBQU0vQixLQUFNLFdBQ1IsR0FBSWlDLEdBQVU5QyxFQUFHZSxNQUNiZ0MsRUFBU0QsRUFBUWIsS0FBTSxPQUN2QmUsRUFBVyxxQ0FFZkYsR0FBUUcsUUFBUUQsR0FDaEJGLEVBQVFHLFFBQVFGLEVBQU9HLFNBQ3ZCSixFQUFRYixLQUFLLG9CQUFvQmdCLFFBQVFGLEVBQU9HLFlBSXhEUCxFQUFRLFdBQ0pFLElBT1JGLE1BR0F4QixFQUFXLFNBQVNXLEdBR3BCLEdBQUlDLEdBQU9ELEVBQ1BxQixFQUFVcEIsRUFBS3FCLFNBQVN2QixJQUN4QkcsRUFBYUQsRUFBS0UsS0FBSyxnQkFDdkJvQixFQUFpQnRCLEVBQUtFLEtBQUssb0JBQW9CcUIsR0FBRyxHQUNsREMsRUFBaUJ4QixFQUFLRSxLQUFLLG9CQUFvQnFCLEdBQUcsR0FDbERFLEdBQXNCLEdBQ3RCQyxFQUFxQixHQUNyQm5CLEVBQWlCLEVBRXJCZSxHQUFpQkEsRUFBZXBCLEtBQUssa0JBRXJDc0IsRUFBaUJBLEVBQWV0QixLQUFLLGlCQUdyQyxJQUFJTSxHQUFhLFdBRVR2QyxFQUFFUSxRQUFRQyxJQUNOK0IsT0FBVSxXQUVOLEdBQUlDLEdBQVl6QyxFQUFFZSxNQUFNMkIsWUFBY1MsRUFBVW5ELEVBQUVRLFFBQVFrRCxRQUUxRDFCLEdBQVcxQixLQUNQQyxVQUFhLGtCQUE0QmtDLEVBQVVILEVBQWtCLFNBR3pFZSxFQUFlL0MsS0FDWEMsVUFBYSxrQkFBNEJrQyxFQUFVZSxFQUFzQixTQUc3RUQsRUFBZWpELEtBQ1hDLFVBQWEsa0JBQTRCa0MsRUFBVWdCLEVBQXNCLGFBTXpGZCxFQUFRLFdBQ0pKLElBT1JJLE1BR0F2QixFQUFhLFNBQVNVLEdBR3RCLEdBQUlDLEdBQU9ELEVBQ1BxQixFQUFVcEIsRUFBS3FCLFNBQVN2QixJQUN4QkcsRUFBYUQsRUFBS0UsS0FBSyxnQkFDdkJLLEVBQWlCLEdBR2pCQyxFQUFhLFdBRVR2QyxFQUFFUSxRQUFRQyxJQUNOK0IsT0FBVSxXQUVOLEdBQUlDLEdBQVl6QyxFQUFFZSxNQUFNMkIsWUFBY1MsRUFBVW5ELEVBQUVRLFFBQVFrRCxRQUUxRDFCLEdBQVcxQixLQUNQQyxVQUFhLGtCQUE0QmtDLEVBQVVILEVBQWtCLGFBTXJGSyxFQUFRLFdBQ0pKLElBT1JJLE1BR0F0QixFQUFPLFNBQVNTLEdBR2hCLEdBQUlDLEdBQU9ELEVBQ1BxQixFQUFVcEIsRUFBS3FCLFNBQVN2QixJQUN4QkcsRUFBYUQsRUFBS0UsS0FBSyxnQkFDdkIwQixFQUFVNUIsRUFBS0UsS0FBSyxhQUVwQkssR0FEWVAsRUFBS0UsS0FBSyxlQUNMLElBQ2pCMkIsRUFBYyxJQUdkckIsRUFBYSxXQUVUdkMsRUFBRVEsUUFBUUMsSUFDTitCLE9BQVUsV0FFTixHQUFJQyxHQUFZekMsRUFBRWUsTUFBTTJCLFlBQWNTLEVBQVVuRCxFQUFFUSxRQUFRa0QsUUFFMUQxQixHQUFXMUIsS0FDUEMsVUFBYSxrQkFBNEJrQyxFQUFVSCxFQUFrQixTQUd6RXFCLEVBQVFyRCxLQUNKQyxVQUFhLGtCQUE0QmtDLEVBQVVtQixFQUFlLGFBTWxGakIsRUFBUSxXQUNKSixJQU9SSSxNQUdBekIsRUFBTyxTQUFVWSxHQUdqQixHQUFJQyxHQUFPRCxFQUNQK0IsRUFBUTdELEVBQUcsU0FDWDhELEVBQVEvQixFQUFLRSxLQUFNLGVBR25CTSxFQUFhLFdBQ1RSLEVBQUt0QixJQUNEc0QsTUFBTyxXQUNIaEMsRUFBS2lDLFlBQWEsUUFDbEJILEVBQU1HLFlBQWEsV0FJM0JGLEVBQU1yRCxJQUNGc0QsTUFBTyxTQUFVRSxHQUNiLEdBQUlBLEdBQVFBLEdBQVN6RCxPQUFPeUQsS0FFdkJBLEdBQU1DLGdCQUNQRCxFQUFNQyxrQkFFTkQsRUFBTUUsY0FBZSxNQU1yQ3hCLEVBQVEsV0FDSkosSUFHUkksTUFHQTNCLEVBQVMsU0FBU2MsR0FHbEIsR0FBSXNDLEdBQVFyRCxLQUNSZ0IsRUFBT0QsRUFDUHVDLEVBQWdCdEMsRUFBS0UsS0FBSyxvQkFDMUJxQyxFQUFrQixHQUdsQi9CLEVBQWEsV0FFVHZDLEVBQUVRLFFBQVFDLElBQ04rQixPQUFVLFdBQ04sR0FBSUMsR0FBWXpDLEVBQUVlLE1BQU0yQixXQUV4QjJCLEdBQWMvRCxLQUNWQyxVQUFhLGtCQUE0QmtDLEVBQVU2QixFQUFtQixhQU90RkMsRUFBVyxTQUFTOUIsR0FFaEI0QixFQUFjL0QsS0FDVkMsVUFBYSxrQkFBNEJrQyxFQUFVNkIsRUFBbUIsVUFHOUUzQixFQUFRLFdBQ0pKLElBQ0FSLEVBQUssR0FBR0QsSUFBTXNDLEVBTXRCQSxHQUFNbkUsUUFBVSxTQUFVNEIsR0FDdEIwQyxFQUFVMUMsSUFHZGMsS0FHQTFCLEVBQVksU0FBU2EsR0FHckIsR0FBSUMsR0FBT0QsRUFHUDBDLEVBQWMsV0FDVixHQUFJQyxHQUFPMUMsRUFBSzJDLE9BQU9DLFFBQVEsTUFBTyxJQUNsQ0MsRUFBTUgsRUFBS0ksTUFBTSxJQUNqQkMsRUFBWUYsRUFBSUcsTUFFcEJoRCxHQUFLMkMsS0FBSyxHQUVWLEtBQU0sR0FBSU0sR0FBSSxFQUFPRixFQUFKRSxFQUFlQSxJQUM1QmpELEVBQUtrRCxPQUFPLFNBQVdMLEVBQUlJLEdBQUssWUFHeENyQyxFQUFRLFdBQ0o2QixFQUFZekMsR0FPcEJZIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGZ1bmN0aW9uKCl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgJChmdW5jdGlvbigpe1xuXG4gICAgICAgICQod2luZG93KS5vbigge1xuICAgICAgICAgICAgJ2xvYWQnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJCggJy5zcGlubmVyJykuYWRkQ2xhc3MoICdoaWRlJyApO1xuICAgICAgICAgICAgICAgIH0sIDEwMDAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQoJy5jb2xsZWN0aW9uJykuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBuZXcgQ29sbGVjdGlvbiggJCh0aGlzKSApO1xuICAgICAgICB9ICk7XG5cbiAgICAgICAgJCgnLnNpdGVfX2hlYWRlcicpLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbmV3IEhlYWRlciggJCh0aGlzKSApO1xuICAgICAgICB9ICk7XG5cbiAgICAgICAgJCgnLnNpdGVfX3RpdGxlJykuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBuZXcgU2l0ZVRpdGxlKCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgICAgICAkKCcubWVudScpLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbmV3IE1lbnUoICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgICQoJy5tdXN0LWhhdmUnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBNdXN0SGF2ZSggJCh0aGlzKSApO1xuICAgICAgICB9ICk7XG5cbiAgICAgICAgJCgnLm1vc3Qtd2FudGVkJykuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBuZXcgTW9zdFdhbnRlZCggJCh0aGlzKSApO1xuICAgICAgICB9ICk7XG5cbiAgICAgICAgJCgnLnNhbGUnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBTYWxlKCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgICAgICAkKCcubmV3cycpLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbmV3IE5ld3MoICQodGhpcykgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgICQoICdib2R5JyApLm1DdXN0b21TY3JvbGxiYXIoe1xuICAgICAgICAgICAgY2FsbGJhY2tzOntcbiAgICAgICAgICAgICAgICB3aGlsZVNjcm9sbGluZzpmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsUG9zaXRpb24gPSBwYXJzZUludCh0aGlzLm1jcy50b3AqKC0xKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX2hlYWRlcicpWzBdLm9iai5wYXJhbGF4KCBzY3JvbGxQb3NpdGlvbiApO1xuXG4gICAgICAgICAgICAgICAgICAgIHBhcmFsYXgoICQoJy5jb2xsZWN0aW9uIC5zaXRlX190aXRsZScpLCAwLCBzY3JvbGxQb3NpdGlvbiwgMC4zKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyYWxheCggJCgnLmNvbGxlY3Rpb25fX3BpYycpLCAwLCBzY3JvbGxQb3NpdGlvbiwgMC4xNSk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFsYXgoICQoJy5jb2xsZWN0aW9uX193cmFwJyksIHNjcm9sbFBvc2l0aW9uLCAwLCAwLjA1KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIHBhcmFsYXgoIGVsZW0sIHgsIHksIGtvZWYpIHtcbiAgICAgICAgICAgIGVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoJyArIHgqa29lZiArICdweCwgJyArIHkqa29lZiArICAncHggKSdcbiAgICAgICAgICAgIH0gKTtcbiAgICAgICAgfTtcblxuICAgIH0pO1xuXG4gICAgdmFyIENvbGxlY3Rpb24gPSBmdW5jdGlvbihvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9zaXRlVGl0bGUgPSBfb2JqLmZpbmQoJy5zaXRlX190aXRsZScpLFxuICAgICAgICAgICAgX2NvbGxlY3Rpb25QaWMgPSBfb2JqLmZpbmQoJy5jb2xsZWN0aW9uX19waWMnKSxcbiAgICAgICAgICAgIF9jb2xsZWN0aW9uV3JhcCA9IF9vYmouZmluZCgnLmNvbGxlY3Rpb25fX3dyYXAnKSxcbiAgICAgICAgICAgIF9jb2xsZWN0aW9uUGljS29lZiA9IDAuMTUsXG4gICAgICAgICAgICBfY29sbGVjdGlvbldyYXBLb2VmID0gMC4wNSxcbiAgICAgICAgICAgIF9zaXRlVGl0bGVLb2VmID0gMC4zO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAkKHdpbmRvdykub24oIHtcbiAgICAgICAgICAgICAgICAgICAgJ3Njcm9sbCc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFBvcyA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaXRlVGl0bGUuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoJyArIDAgKyAncHgsICcgKyBzY3JvbGxQb3MqX3NpdGVUaXRsZUtvZWYgKyAgJ3B4ICknXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb2xsZWN0aW9uUGljLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCcgKyAwICsgJ3B4LCAnICsgc2Nyb2xsUG9zKl9jb2xsZWN0aW9uUGljS29lZiArICAncHggKSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbGxlY3Rpb25XcmFwLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCcgKyBzY3JvbGxQb3MqX2NvbGxlY3Rpb25XcmFwS29lZiArICdweCwgJyArIDAgKyAgJ3B4ICknXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBOZXdzID0gZnVuY3Rpb24ob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaXRlbSA9IF9vYmouZmluZCggJy5uZXdzX19pdGVtJyApO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY3JlYXRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfaXRlbS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckVsZW0gPSAkKCB0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clBpYyA9IGN1ckVsZW0uZmluZCggJ2ltZycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjZUVsZW0gPSAnPGRpdiBjbGFzcz1cIm5ld3NfX2l0ZW0tZmFjZVwiPjwvZGl2Pic7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5wcmVwZW5kKGZhY2VFbGVtKTtcbiAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5wcmVwZW5kKGN1clBpYy5jbG9uZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5maW5kKCcubmV3c19faXRlbS1mYWNlJykucHJlcGVuZChjdXJQaWMuY2xvbmUoKSk7XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfY3JlYXRlKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIE11c3RIYXZlID0gZnVuY3Rpb24ob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfb2JqVG9wID0gX29iai5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICBfc2l0ZVRpdGxlID0gX29iai5maW5kKCcuc2l0ZV9fdGl0bGUnKSxcbiAgICAgICAgICAgIF9tdXN0SGF2ZUl0ZW0xID0gX29iai5maW5kKCcubXVzdC1oYXZlX19pdGVtJykuZXEoMCksXG4gICAgICAgICAgICBfbXVzdEhhdmVJdGVtMiA9IF9vYmouZmluZCgnLm11c3QtaGF2ZV9faXRlbScpLmVxKDEpLFxuICAgICAgICAgICAgX211c3RIYXZlSXRlbUtvZWYxID0gLTAuMSxcbiAgICAgICAgICAgIF9tdXN0SGF2ZUl0ZW1Lb2VmMiA9IDAuMSxcbiAgICAgICAgICAgIF9zaXRlVGl0bGVLb2VmID0gMC4zO1xuXG4gICAgICAgIF9tdXN0SGF2ZUl0ZW0xID0gX211c3RIYXZlSXRlbTEuZmluZCgnLm11c3QtaGF2ZV9fYmcnKTtcblxuICAgICAgICBfbXVzdEhhdmVJdGVtMiA9IF9tdXN0SGF2ZUl0ZW0yLmZpbmQoJy5tdXN0LWhhdmVfX2JnJyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICQod2luZG93KS5vbigge1xuICAgICAgICAgICAgICAgICAgICAnc2Nyb2xsJzogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxQb3MgPSAkKHRoaXMpLnNjcm9sbFRvcCgpIC0gX29ialRvcCArICQod2luZG93KS5oZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3NpdGVUaXRsZS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSgnICsgMCArICdweCwgJyArIHNjcm9sbFBvcypfc2l0ZVRpdGxlS29lZiArICAncHggKSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX211c3RIYXZlSXRlbTEuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoJyArIDAgKyAncHgsICcgKyBzY3JvbGxQb3MqX211c3RIYXZlSXRlbUtvZWYxICsgICdweCApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbXVzdEhhdmVJdGVtMi5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSgnICsgMCArICdweCwgJyArIHNjcm9sbFBvcypfbXVzdEhhdmVJdGVtS29lZjIgKyAgJ3B4ICknXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgTW9zdFdhbnRlZCA9IGZ1bmN0aW9uKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX29ialRvcCA9IF9vYmoub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgX3NpdGVUaXRsZSA9IF9vYmouZmluZCgnLnNpdGVfX3RpdGxlJyksXG4gICAgICAgICAgICBfc2l0ZVRpdGxlS29lZiA9IDAuMztcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgICdzY3JvbGwnOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFBvcyA9ICQodGhpcykuc2Nyb2xsVG9wKCkgLSBfb2JqVG9wICsgJCh3aW5kb3cpLmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2l0ZVRpdGxlLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCcgKyAwICsgJ3B4LCAnICsgc2Nyb2xsUG9zKl9zaXRlVGl0bGVLb2VmICsgICdweCApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFNhbGUgPSBmdW5jdGlvbihvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9vYmpUb3AgPSBfb2JqLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgIF9zaXRlVGl0bGUgPSBfb2JqLmZpbmQoJy5zaXRlX190aXRsZScpLFxuICAgICAgICAgICAgX3NhbGVCZyA9IF9vYmouZmluZCgnLnNhbGVfX2JnJyksXG4gICAgICAgICAgICBfc2FsZUl0ZW0gPSBfb2JqLmZpbmQoJy5zYWxlX19pdGVtJyksXG4gICAgICAgICAgICBfc2l0ZVRpdGxlS29lZiA9IDAuMyxcbiAgICAgICAgICAgIF9zYWxlQmdLb2VmID0gMC4xNTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgICdzY3JvbGwnOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFBvcyA9ICQodGhpcykuc2Nyb2xsVG9wKCkgLSBfb2JqVG9wICsgJCh3aW5kb3cpLmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2l0ZVRpdGxlLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCcgKyAwICsgJ3B4LCAnICsgc2Nyb2xsUG9zKl9zaXRlVGl0bGVLb2VmICsgICdweCApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2FsZUJnLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCcgKyAwICsgJ3B4LCAnICsgc2Nyb2xsUG9zKl9zYWxlQmdLb2VmICsgICdweCApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIE1lbnUgPSBmdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3NpdGUgPSAkKCAnLnNpdGUnICksXG4gICAgICAgICAgICBfd3JhcCA9IF9vYmouZmluZCggJy5tZW51X193cmFwJyApO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9vYmoub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX29iai50b2dnbGVDbGFzcyggJ29wZW4nICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2l0ZS50b2dnbGVDbGFzcyggJ2JsdXInICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfd3JhcC5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnQgfHwgd2luZG93LmV2ZW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGV2ZW50LnN0b3BQcm9wYWdhdGlvbiApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgSGVhZGVyID0gZnVuY3Rpb24ob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfc2l0ZUhlYWRlckJnID0gX29iai5maW5kKCcuc2l0ZV9faGVhZGVyLWJnJyksXG4gICAgICAgICAgICBfc2l0ZUhlYWRlcktvZWYgPSAwLjU7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICQod2luZG93KS5vbigge1xuICAgICAgICAgICAgICAgICAgICAnc2Nyb2xsJzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsUG9zID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3NpdGVIZWFkZXJCZy5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSgnICsgMCArICdweCwgJyArIHNjcm9sbFBvcypfc2l0ZUhlYWRlcktvZWYgKyAgJ3B4ICknXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9wYXJhbGF4ID0gZnVuY3Rpb24oc2Nyb2xsUG9zKSB7XG5cbiAgICAgICAgICAgICAgICBfc2l0ZUhlYWRlckJnLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSgnICsgMCArICdweCwgJyArIHNjcm9sbFBvcypfc2l0ZUhlYWRlcktvZWYgKyAgJ3B4ICknXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG4gICAgICAgIF9zZWxmLnBhcmFsYXggPSBmdW5jdGlvbiggdG9wICkge1xuICAgICAgICAgICAgX3BhcmFsYXgoIHRvcCApO1xuICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBTaXRlVGl0bGUgPSBmdW5jdGlvbihvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX29iaiA9IG9iajtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2NyZWF0ZUxpbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGluZSA9IF9vYmoudGV4dCgpLnJlcGxhY2UoL1xccy9nLCBcIlwiKSxcbiAgICAgICAgICAgICAgICAgICAgYXJyID0gbGluZS5zcGxpdCgnJyksXG4gICAgICAgICAgICAgICAgICAgIGFyckxlbmd0aCA9IGFyci5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnRleHQoJycpO1xuXG4gICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgX29iai5hcHBlbmQoJzxzcGFuPicgKyBhcnJbaV0gKyAnPC9zcGFuPicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9jcmVhdGVMaW5lKF9vYmopO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
