"use strict";$(function(){$(function(){new n,$(".menu").each(function(){new e($(this))}),$(".news").each(function(){new t($(this))})});var t=function(t){var e=t,n=e.find(".news__item"),i=function(){n.each(function(){var t=$(this),e=t.find("img"),n=t.find(".news__item-wrap");n.prepend(e.clone())})},o=function(){i()};o()},e=function(t){var e=t,n=$(".menu-btn"),i=$(".site"),o=e.find(".menu__wrap"),s="blur",a=function(){e.on({click:function(){e.removeClass("open"),i.removeClass(s)}}),n.on({click:function(){e.addClass("open"),i.addClass(s)}}),o.on({click:function(t){var t=t||window.event;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}})},c=function(){var t=window.navigator.userAgent.toLowerCase(),e=/trident/gi.test(t)||/msie/gi.test(t)||/edge/gi.test(t);e&&(s="light")},f=function(){a(),c(),o.mCustomScrollbar()};f()},n=function(t){var e=$(".site__title"),n=$(".spinner"),i=$("body"),o=function(){$(window).on({load:function(){setTimeout(function(){n.addClass("hide"),setTimeout(function(){n.remove()},500)},1e3)},resize:function(){s()}})},s=function(){var t=$(".collection").offset().top,e=$(".collection").height(),n=$(".must-have").offset().top,o=$(".must-have").height(),s=$(".must-have__bg").eq(0).offset().top,a=$(".must-have__bg").eq(0).height(),f=$(".must-have__bg").eq(1).offset().top,u=$(".must-have__bg").eq(1).height(),l=$(".most-wanted").offset().top,r=$(".most-wanted").height(),h=$(".sale").offset().top,_=$(".sale").height(),m=$(".site__header").offset().top,p=$(".site__header").height(),g=$(window).height();i.mCustomScrollbar({callbacks:{whileScrolling:function(){var i=parseInt(-1*this.mcs.top);t+e>=i&&g+i>=t&&(c($(".collection .site__title"),0,i,.3*e/(e+g)),c($(".collection__pic"),0,i,.15*e/(e+g)),c($(".collection__wrap"),i,0,.05*e/(e+g))),n+o>=i&&g+i>=n&&c($(".must-have .site__title"),0,i-(n-g),.3*o/(o+g)),s+a>=i&&g+i>=s&&c($(".must-have__bg").eq(0),0,i-(s-g),a*-.2/(a+g)),f+u>=i&&g+i>=f&&c($(".must-have__bg").eq(1),0,i-(n-g),.2*u/(u+g)),l+r>=i&&g+i>=l&&c($(".most-wanted .site__title"),0,i-(l-g),.3*r/(r+g)),h+_>=i&&g+i>=h&&(c($(".sale .site__title"),0,i-(h-g),.3*_/(_+g)),c($(".sale__bg"),0,i-(h-g),.4*_/(_+g))),m+p>=i&&g+i>=m&&c($(".site__header-bg"),0,i,.5*p/(p+g))}}})},a=function(t){var e=t.text().replace(/\s/g,""),n=e.split(""),i=n.length;t.text("");for(var o=0;i>o;o++)t.append("<span>"+n[o]+"</span>")},c=function(t,e,n,i){t.css({transform:"translate("+e*i+"px, "+n*i+"px )"})},f=function(){o(),s(),e.each(function(){a($(this))})};f()}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiUGFnZSIsImVhY2giLCJNZW51IiwidGhpcyIsIk5ld3MiLCJvYmoiLCJfb2JqIiwiX2l0ZW0iLCJmaW5kIiwiX2NyZWF0ZSIsImN1ckVsZW0iLCJjdXJQaWMiLCJ3cmFwRWxlbSIsInByZXBlbmQiLCJjbG9uZSIsIl9pbml0IiwiX2J0biIsIl9zaXRlIiwiX3dyYXAiLCJfY2xhc3NOYW1lIiwiX2FkZEV2ZW50cyIsIm9uIiwiY2xpY2siLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiZXZlbnQiLCJ3aW5kb3ciLCJzdG9wUHJvcGFnYXRpb24iLCJjYW5jZWxCdWJibGUiLCJfZGV0ZWN0QnJvd3NlciIsInVhIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJpc19pZSIsInRlc3QiLCJtQ3VzdG9tU2Nyb2xsYmFyIiwiX3NpdGVUaXRsZSIsIl9zcGlubmVyIiwiX2JvZHkiLCJsb2FkIiwic2V0VGltZW91dCIsInJlbW92ZSIsInJlc2l6ZSIsIl9hZGRDdXN0b21TY3JvbGwiLCJjb2xsZWN0aW9uVG9wIiwib2Zmc2V0IiwidG9wIiwiY29sbGVjdGlvbkhlaWdodCIsImhlaWdodCIsIm11c3RIYXZlVG9wIiwibXVzdEhhdmVIZWlnaHQiLCJtdXN0SGF2ZUJnMVRvcCIsImVxIiwibXVzdEhhdmVCZzFIZWlnaHQiLCJtdXN0SGF2ZUJnMlRvcCIsIm11c3RIYXZlQmcySGVpZ2h0IiwibW9zdFdhbnRlZFRvcCIsIm1vc3RXYW50ZWRIZWlnaHQiLCJzYWxlVG9wIiwic2FsZUhlaWdodCIsImhlYWRlclRvcCIsImhlYWRlckhlaWdodCIsIndpbkhlaWdodCIsImNhbGxiYWNrcyIsIndoaWxlU2Nyb2xsaW5nIiwic2Nyb2xsUG9zaXRpb24iLCJwYXJzZUludCIsIm1jcyIsIl9wYXJhbGF4IiwiX2NyZWF0ZVRpdGxlIiwiZWxlbSIsImxpbmUiLCJ0ZXh0IiwicmVwbGFjZSIsImFyciIsInNwbGl0IiwiYXJy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R0FBYkosR0FBa0JBLEVBQWVDLFNBT3pHTyxFQUFlLFNBQVVDLEdBQ3JCLEdBQUlDLEdBQU9ELEVBQUtFLE9BQU9DLFFBQVEsTUFBTyxJQUNsQ0MsRUFBTUgsRUFBS0ksTUFBTSxJQUNqQkMsRUFBWUYsRUFBSUcsTUFFcEJQLEdBQUtFLEtBQUssR0FFVixLQUFNLEdBQUlNLEdBQUksRUFBT0YsRUFBSkUsRUFBZUEsSUFDNUJSLEVBQUtTLE9BQU8sU0FBV0wsRUFBSUksR0FBSyxZQUd4Q1YsRUFBVyxTQUFVRSxFQUFNVSxFQUFHQyxFQUFHQyxHQUM3QlosRUFBS2EsS0FDREMsVUFBYSxhQUFlSixFQUFFRSxFQUFPLE9BQVNELEVBQUVDLEVBQVEsVUFHaEVwRSxFQUFRLFdBQ0pLLElBQ0F3QixJQUVBUCxFQUFXcEMsS0FBTSxXQUNicUUsRUFBY3ZFLEVBQUVJLFNBUTVCWSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgICQoZnVuY3Rpb24oKXtcblxuICAgICAgICBuZXcgUGFnZSgpO1xuXG4gICAgICAgICQoJy5tZW51JykuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBuZXcgTWVudSggJCh0aGlzKSApO1xuICAgICAgICB9ICk7XG5cbiAgICAgICAgJCgnLm5ld3MnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBOZXdzKCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgIH0pO1xuXG4gICAgdmFyIE5ld3MgPSBmdW5jdGlvbihvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9pdGVtID0gX29iai5maW5kKCAnLm5ld3NfX2l0ZW0nICk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9jcmVhdGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9pdGVtLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRWxlbSA9ICQoIHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyUGljID0gY3VyRWxlbS5maW5kKCAnaW1nJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB3cmFwRWxlbSA9IGN1ckVsZW0uZmluZCggJy5uZXdzX19pdGVtLXdyYXAnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgd3JhcEVsZW0ucHJlcGVuZChjdXJQaWMuY2xvbmUoKSk7XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfY3JlYXRlKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIE1lbnUgPSBmdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2J0biA9ICQoICcubWVudS1idG4nICksXG4gICAgICAgICAgICBfc2l0ZSA9ICQoICcuc2l0ZScgKSxcbiAgICAgICAgICAgIF93cmFwID0gX29iai5maW5kKCAnLm1lbnVfX3dyYXAnKSxcbiAgICAgICAgICAgIF9jbGFzc05hbWUgPSAnYmx1cic7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX29iai5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbicgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaXRlLnJlbW92ZUNsYXNzKCBfY2xhc3NOYW1lICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfYnRuLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdvcGVuJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NpdGUuYWRkQ2xhc3MoIF9jbGFzc05hbWUgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF93cmFwLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZXZlbnQuc3RvcFByb3BhZ2F0aW9uICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfZGV0ZWN0QnJvd3NlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgICAgICBpc19pZSA9ICgvdHJpZGVudC9naSkudGVzdCh1YSkgfHwgKC9tc2llL2dpKS50ZXN0KHVhKSB8fCAoL2VkZ2UvZ2kpLnRlc3QodWEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzX2llKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jbGFzc05hbWUgPSAnbGlnaHQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX2RldGVjdEJyb3dzZXIoKTtcbiAgICAgICAgICAgICAgICBfd3JhcC5tQ3VzdG9tU2Nyb2xsYmFyKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBQYWdlID0gZnVuY3Rpb24ob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9zaXRlVGl0bGUgPSAkKCAnLnNpdGVfX3RpdGxlJyksXG4gICAgICAgICAgICBfc3Bpbm5lciA9ICQoICcuc3Bpbm5lcicpLFxuICAgICAgICAgICAgX2JvZHkgPSAkKCAnYm9keScgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQod2luZG93KS5vbigge1xuICAgICAgICAgICAgICAgICAgICAnbG9hZCc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NwaW5uZXIuYWRkQ2xhc3MoICdoaWRlJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NwaW5uZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSw1MDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCApO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAncmVzaXplJzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYWRkQ3VzdG9tU2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FkZEN1c3RvbVNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uVG9wID0gJCgnLmNvbGxlY3Rpb24nKS5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25IZWlnaHQgPSAkKCcuY29sbGVjdGlvbicpLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBtdXN0SGF2ZVRvcCA9ICQoJy5tdXN0LWhhdmUnKS5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgIG11c3RIYXZlSGVpZ2h0ID0gJCgnLm11c3QtaGF2ZScpLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBtdXN0SGF2ZUJnMVRvcCA9ICQoJy5tdXN0LWhhdmVfX2JnJykuZXEoMCkub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgICAgICBtdXN0SGF2ZUJnMUhlaWdodCA9ICQoJy5tdXN0LWhhdmVfX2JnJykuZXEoMCkuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgIG11c3RIYXZlQmcyVG9wID0gJCgnLm11c3QtaGF2ZV9fYmcnKS5lcSgxKS5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgIG11c3RIYXZlQmcySGVpZ2h0ID0gJCgnLm11c3QtaGF2ZV9fYmcnKS5lcSgxKS5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgbW9zdFdhbnRlZFRvcCA9ICQoJy5tb3N0LXdhbnRlZCcpLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgbW9zdFdhbnRlZEhlaWdodCA9ICQoJy5tb3N0LXdhbnRlZCcpLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBzYWxlVG9wID0gJCgnLnNhbGUnKS5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgIHNhbGVIZWlnaHQgPSAkKCcuc2FsZScpLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJUb3AgPSAkKCcuc2l0ZV9faGVhZGVyJykub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJIZWlnaHQgPSAkKCcuc2l0ZV9faGVhZGVyJykuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgIHdpbkhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcblxuXG4gICAgICAgICAgICAgICAgX2JvZHkubUN1c3RvbVNjcm9sbGJhcih7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrczp7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZVNjcm9sbGluZzpmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxQb3NpdGlvbiA9IHBhcnNlSW50KHRoaXMubWNzLnRvcCooLTEpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29sbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKCBzY3JvbGxQb3NpdGlvbiA8PSAoIGNvbGxlY3Rpb25Ub3AgKyBjb2xsZWN0aW9uSGVpZ2h0ICkgJiYgKCAoIHdpbkhlaWdodCArIHNjcm9sbFBvc2l0aW9uICkgPj0gY29sbGVjdGlvblRvcCApICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wYXJhbGF4KCAkKCcuY29sbGVjdGlvbiAuc2l0ZV9fdGl0bGUnKSwgMCwgc2Nyb2xsUG9zaXRpb24sIGNvbGxlY3Rpb25IZWlnaHQqMC4zLyhjb2xsZWN0aW9uSGVpZ2h0ICsgd2luSGVpZ2h0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wYXJhbGF4KCAkKCcuY29sbGVjdGlvbl9fcGljJyksIDAsIHNjcm9sbFBvc2l0aW9uLCBjb2xsZWN0aW9uSGVpZ2h0KjAuMTUvKGNvbGxlY3Rpb25IZWlnaHQgKyB3aW5IZWlnaHQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BhcmFsYXgoICQoJy5jb2xsZWN0aW9uX193cmFwJyksIHNjcm9sbFBvc2l0aW9uLCAwLCBjb2xsZWN0aW9uSGVpZ2h0KjAuMDUvKGNvbGxlY3Rpb25IZWlnaHQgKyB3aW5IZWlnaHQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL211c3QtaGF2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKCBzY3JvbGxQb3NpdGlvbiA8PSAoIG11c3RIYXZlVG9wICsgbXVzdEhhdmVIZWlnaHQgKSAmJiAoICggd2luSGVpZ2h0ICsgc2Nyb2xsUG9zaXRpb24gKSA+PSBtdXN0SGF2ZVRvcCApICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wYXJhbGF4KCAkKCcubXVzdC1oYXZlIC5zaXRlX190aXRsZScpLCAwLCBzY3JvbGxQb3NpdGlvbiAtIChtdXN0SGF2ZVRvcCAtIHdpbkhlaWdodCksIG11c3RIYXZlSGVpZ2h0KjAuMy8obXVzdEhhdmVIZWlnaHQgKyB3aW5IZWlnaHQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL211c3QtaGF2ZS1iZzFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICggc2Nyb2xsUG9zaXRpb24gPD0gKCBtdXN0SGF2ZUJnMVRvcCArIG11c3RIYXZlQmcxSGVpZ2h0ICkgJiYgKCAoIHdpbkhlaWdodCArIHNjcm9sbFBvc2l0aW9uICkgPj0gbXVzdEhhdmVCZzFUb3AgKSApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGFyYWxheCggJCgnLm11c3QtaGF2ZV9fYmcnKS5lcSgwKSwgMCwgc2Nyb2xsUG9zaXRpb24gLSAobXVzdEhhdmVCZzFUb3AgLSB3aW5IZWlnaHQpLCBtdXN0SGF2ZUJnMUhlaWdodCooLTAuMikvKG11c3RIYXZlQmcxSGVpZ2h0ICsgd2luSGVpZ2h0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tdXN0LWhhdmUtYmcyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAoIHNjcm9sbFBvc2l0aW9uIDw9ICggbXVzdEhhdmVCZzJUb3AgKyBtdXN0SGF2ZUJnMkhlaWdodCApICYmICggKCB3aW5IZWlnaHQgKyBzY3JvbGxQb3NpdGlvbiApID49IG11c3RIYXZlQmcyVG9wICkgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BhcmFsYXgoICQoJy5tdXN0LWhhdmVfX2JnJykuZXEoMSksIDAsIHNjcm9sbFBvc2l0aW9uIC0gKG11c3RIYXZlVG9wIC0gd2luSGVpZ2h0KSwgbXVzdEhhdmVCZzJIZWlnaHQqMC4yLyhtdXN0SGF2ZUJnMkhlaWdodCArIHdpbkhlaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbW9zdC13YW50ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICggc2Nyb2xsUG9zaXRpb24gPD0gKCBtb3N0V2FudGVkVG9wICsgbW9zdFdhbnRlZEhlaWdodCApICYmICggKCB3aW5IZWlnaHQgKyBzY3JvbGxQb3NpdGlvbiApID49IG1vc3RXYW50ZWRUb3AgKSApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGFyYWxheCggJCgnLm1vc3Qtd2FudGVkIC5zaXRlX190aXRsZScpLCAwLCBzY3JvbGxQb3NpdGlvbiAtIChtb3N0V2FudGVkVG9wIC0gd2luSGVpZ2h0KSwgbW9zdFdhbnRlZEhlaWdodCowLjMvKG1vc3RXYW50ZWRIZWlnaHQgKyB3aW5IZWlnaHQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3NhbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICggc2Nyb2xsUG9zaXRpb24gPD0gKCBzYWxlVG9wICsgc2FsZUhlaWdodCApICYmICggKCB3aW5IZWlnaHQgKyBzY3JvbGxQb3NpdGlvbiApID49IHNhbGVUb3AgKSApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGFyYWxheCggJCgnLnNhbGUgLnNpdGVfX3RpdGxlJyksIDAsIHNjcm9sbFBvc2l0aW9uIC0gKHNhbGVUb3AgLSB3aW5IZWlnaHQpLCBzYWxlSGVpZ2h0KjAuMy8oc2FsZUhlaWdodCArIHdpbkhlaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGFyYWxheCggJCgnLnNhbGVfX2JnJyksIDAsIHNjcm9sbFBvc2l0aW9uIC0gKHNhbGVUb3AgLSB3aW5IZWlnaHQpLCBzYWxlSGVpZ2h0KjAuNC8oc2FsZUhlaWdodCArIHdpbkhlaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAoIHNjcm9sbFBvc2l0aW9uIDw9ICggaGVhZGVyVG9wICsgaGVhZGVySGVpZ2h0ICkgJiYgKCAoIHdpbkhlaWdodCArIHNjcm9sbFBvc2l0aW9uICkgPj0gaGVhZGVyVG9wICkgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BhcmFsYXgoICQoJy5zaXRlX19oZWFkZXItYmcnKSwgMCwgc2Nyb2xsUG9zaXRpb24sIGhlYWRlckhlaWdodCowLjUvKGhlYWRlckhlaWdodCArIHdpbkhlaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NyZWF0ZVRpdGxlID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBlbGVtLnRleHQoKS5yZXBsYWNlKC9cXHMvZywgXCJcIiksXG4gICAgICAgICAgICAgICAgICAgIGFyciA9IGxpbmUuc3BsaXQoJycpLFxuICAgICAgICAgICAgICAgICAgICBhcnJMZW5ndGggPSBhcnIubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgZWxlbS50ZXh0KCcnKTtcblxuICAgICAgICAgICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IGFyckxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW0uYXBwZW5kKCc8c3Bhbj4nICsgYXJyW2ldICsgJzwvc3Bhbj4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3BhcmFsYXggPSBmdW5jdGlvbiggZWxlbSwgeCwgeSwga29lZiApIHtcbiAgICAgICAgICAgICAgICBlbGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSgnICsgeCprb2VmICsgJ3B4LCAnICsgeSprb2VmICsgICdweCApJ1xuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfYWRkQ3VzdG9tU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICBfc2l0ZVRpdGxlLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBfY3JlYXRlVGl0bGUoICQodGhpcykgKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
