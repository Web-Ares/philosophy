"use strict";$(function(){$(function(){new n,$(".menu").each(function(){new e($(this))}),$(".news").each(function(){new t($(this))})});var t=function(t){var e=t,n=e.find(".news__item"),i=function(){n.each(function(){var t=$(this),e=t.find("img"),n=t.find(".news__item-wrap");n.prepend(e.clone())})},o=function(){i()};o()},e=function(t){var e=t,n=$(".site"),i=e.find(".menu__wrap"),o=function(){e.on({click:function(){e.toggleClass("open"),n.toggleClass("blur")}}),i.on({click:function(t){var t=t||window.event;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}})},s=function(){o(),i.mCustomScrollbar()};s()},n=function(t){var e=$(".site__title"),n=$(".spinner"),i=$("body"),o=function(){$(window).on({load:function(){setTimeout(function(){n.addClass("hide"),setTimeout(function(){n.remove()},500)},1e3)},resize:function(){s()}})},s=function(){var t=$(".collection").offset().top,e=$(".collection").height(),n=$(".must-have").offset().top,o=$(".must-have").height(),s=$(".must-have__bg").eq(0).offset().top,a=$(".must-have__bg").eq(0).height(),f=$(".must-have__bg").eq(1).offset().top,l=$(".must-have__bg").eq(1).height(),u=$(".most-wanted").offset().top,h=$(".most-wanted").height(),_=$(".sale").offset().top,r=$(".sale").height(),p=$(".site__header").offset().top,g=$(".site__header").height(),m=$(window).height();i.mCustomScrollbar({callbacks:{whileScrolling:function(){var i=parseInt(-1*this.mcs.top);t+e>=i&&m+i>=t&&(c($(".collection .site__title"),0,i-(t-m),.3*e/(e+m)),c($(".collection__pic"),0,i-(t-m),.15*e/(e+m)),c($(".collection__wrap"),i-(t-m),0,.05*e/(e+m))),n+o>=i&&m+i>=n&&c($(".must-have .site__title"),0,i-(n-m),.3*o/(o+m)),s+a>=i&&m+i>=s&&c($(".must-have__bg").eq(0),0,i-(s-m),a*-.1/(a+m)),f+l>=i&&m+i>=f&&c($(".must-have__bg").eq(1),0,i-(n-m),.1*l/(l+m)),u+h>=i&&m+i>=u&&c($(".most-wanted .site__title"),0,i-(u-m),.3*h/(h+m)),_+r>=i&&m+i>=_&&(c($(".sale .site__title"),0,i-(_-m),.3*r/(r+m)),c($(".sale__bg"),0,i-(_-m),.2*r/(r+m))),p+g>=i&&m+i>=p&&c($(".site__header-bg"),0,i,.5*g/(g+m))}}})},a=function(t){var e=t.text().replace(/\s/g,""),n=e.split(""),i=n.length;t.text("");for(var o=0;i>o;o++)t.append("<span>"+n[o]+"</span>")},c=function(t,e,n,i){t.css({transform:"translate("+e*i+"px, "+n*i+"px )"})},f=function(){o(),s(),e.each(function(){a($(this))})};f()}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiUGFnZSIsImVhY2giLCJNZW51IiwidGhpcyIsIk5ld3MiLCJvYmoiLCJfb2JqIiwiX2l0ZW0iLCJmaW5kIiwiX2NyZWF0ZSIsImN1ckVsZW0iLCJjdXJQaWMiLCJ3cmFwRWxlbSIsInByZXBlbmQiLCJjbG9uZSIsIl9pbml0IiwiX3NpdGUiLCJfd3JhcCIsIl9hZGRFdmVudHMiLCJvbiIsImNsaWNrIiwidG9nZ2xlQ2xhc3MiLCJldmVudCIsIndpbmRvdyIsInN0b3BQcm9wYWdhdGlvbiIsImNhbmNlbEJ1YmJsZSIsIm1DdXN0b21TY3JvbGxiYXIiLCJfc2l0ZVRpdGxlIiwiX3NwaW5uZXIiLCJfYm9keSIsImxvYWQiLCJzZXRUaW1lb3V0IiwiYWRkQ2xhc3MiLCJyZW1vdmUiLCJyZXNpemUiLCJfYWRkQ3VzdG9tU2Nyb2xsIiwiY29sbGVjdGlvblRvcCIsIm9mZnNldCIsInRvcCIsImNvbGxlY3Rpb25IZWlnaHQiLCJoZWlnaHQiLCJtdXN0SGF2ZVRvcCIsIm11c3RIYXZlSGVpZ2h0IiwibXVzdEhhdmVCZzFUb3AiLCJlcSIsIm11c3RIYXZlQmcxSGVpZ2h0IiwibXVzdEhhdmVCZzJUb3AiLCJtdXN0SGF2ZUJnMkhlaWdodCIsIm1vc3RXYW50ZWRUb3AiLCJtb3N0V2FudGVkSGVpZ2h0Iiwic2FsZVRvcCIsInNhbGVIZWlnaHQiLCJoZWFkZXJUb3AiLCJoZWFkZXJIZWlnaHQiLCJ3aW5IZWlnaHQiLCJjYWxsYmFja3MiLCJ3aGlsZVNjcm9sbGluZyIsInNjcm9sbFBvc2l0aW9uIiwicGFyc2VJbnQiLCJtY3MiLCJfcGFyYWxheCIsIl9jcmVhdGVUaXRsZSIsImVsZW0iLCJsaW5lIiwidGV4dCIsInJlcGxhY2UiLCJhcnIiLCJzcGxpdCIsImFyckxlbmd0aCIsImxlbmd0aCIsImkiLCJhcHBlbmQiLCJ4IiwieSIsImtvZWYiLCJjc3MiLCJ0cmFuc2Zvcm0iXSwibWFwcGluZ3MiOiJBQUFBLFlBQUFBLEdBQUUsV0FH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QUFFRSxFQUFPLE9BQVNELEVBQUVDLEVBQVEsVUFHaEUzRCxFQUFRLFdBQ0pHLElBQ0FpQixJQUVBUixFQUFXMUIsS0FBTSxXQUNiNEQsRUFBYzlELEVBQUVJLFNBUTVCWSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgICQoZnVuY3Rpb24oKXtcblxuICAgICAgICBuZXcgUGFnZSgpO1xuXG4gICAgICAgICQoJy5tZW51JykuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBuZXcgTWVudSggJCh0aGlzKSApO1xuICAgICAgICB9ICk7XG5cbiAgICAgICAgJCgnLm5ld3MnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5ldyBOZXdzKCAkKHRoaXMpICk7XG4gICAgICAgIH0gKTtcblxuICAgIH0pO1xuXG4gICAgdmFyIE5ld3MgPSBmdW5jdGlvbihvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9pdGVtID0gX29iai5maW5kKCAnLm5ld3NfX2l0ZW0nICk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9jcmVhdGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9pdGVtLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRWxlbSA9ICQoIHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyUGljID0gY3VyRWxlbS5maW5kKCAnaW1nJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB3cmFwRWxlbSA9IGN1ckVsZW0uZmluZCggJy5uZXdzX19pdGVtLXdyYXAnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy9jdXJFbGVtLnByZXBlbmQoZmFjZUVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAvL2N1ckVsZW0ucHJlcGVuZChjdXJQaWMuY2xvbmUoKSk7XG4gICAgICAgICAgICAgICAgICAgIHdyYXBFbGVtLnByZXBlbmQoY3VyUGljLmNsb25lKCkpO1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX2NyZWF0ZSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBNZW51ID0gZnVuY3Rpb24oIG9iaiApIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9zaXRlID0gJCggJy5zaXRlJyApLFxuICAgICAgICAgICAgX3dyYXAgPSBfb2JqLmZpbmQoICcubWVudV9fd3JhcCcgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoudG9nZ2xlQ2xhc3MoICdvcGVuJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NpdGUudG9nZ2xlQ2xhc3MoICdibHVyJyApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3dyYXAub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBldmVudC5zdG9wUHJvcGFnYXRpb24gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfd3JhcC5tQ3VzdG9tU2Nyb2xsYmFyKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBQYWdlID0gZnVuY3Rpb24ob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9zaXRlVGl0bGUgPSAkKCAnLnNpdGVfX3RpdGxlJyksXG4gICAgICAgICAgICBfc3Bpbm5lciA9ICQoICcuc3Bpbm5lcicpLFxuICAgICAgICAgICAgX2JvZHkgPSAkKCAnYm9keScgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQod2luZG93KS5vbigge1xuICAgICAgICAgICAgICAgICAgICAnbG9hZCc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NwaW5uZXIuYWRkQ2xhc3MoICdoaWRlJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NwaW5uZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSw1MDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCApO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAncmVzaXplJzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYWRkQ3VzdG9tU2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FkZEN1c3RvbVNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uVG9wID0gJCgnLmNvbGxlY3Rpb24nKS5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25IZWlnaHQgPSAkKCcuY29sbGVjdGlvbicpLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBtdXN0SGF2ZVRvcCA9ICQoJy5tdXN0LWhhdmUnKS5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgIG11c3RIYXZlSGVpZ2h0ID0gJCgnLm11c3QtaGF2ZScpLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBtdXN0SGF2ZUJnMVRvcCA9ICQoJy5tdXN0LWhhdmVfX2JnJykuZXEoMCkub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgICAgICBtdXN0SGF2ZUJnMUhlaWdodCA9ICQoJy5tdXN0LWhhdmVfX2JnJykuZXEoMCkuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgIG11c3RIYXZlQmcyVG9wID0gJCgnLm11c3QtaGF2ZV9fYmcnKS5lcSgxKS5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgIG11c3RIYXZlQmcySGVpZ2h0ID0gJCgnLm11c3QtaGF2ZV9fYmcnKS5lcSgxKS5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgbW9zdFdhbnRlZFRvcCA9ICQoJy5tb3N0LXdhbnRlZCcpLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgbW9zdFdhbnRlZEhlaWdodCA9ICQoJy5tb3N0LXdhbnRlZCcpLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBzYWxlVG9wID0gJCgnLnNhbGUnKS5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgIHNhbGVIZWlnaHQgPSAkKCcuc2FsZScpLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJUb3AgPSAkKCcuc2l0ZV9faGVhZGVyJykub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJIZWlnaHQgPSAkKCcuc2l0ZV9faGVhZGVyJykuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgIHdpbkhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcblxuXG4gICAgICAgICAgICAgICAgX2JvZHkubUN1c3RvbVNjcm9sbGJhcih7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrczp7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZVNjcm9sbGluZzpmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxQb3NpdGlvbiA9IHBhcnNlSW50KHRoaXMubWNzLnRvcCooLTEpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29sbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKCBzY3JvbGxQb3NpdGlvbiA8PSAoIGNvbGxlY3Rpb25Ub3AgKyBjb2xsZWN0aW9uSGVpZ2h0ICkgJiYgKCAoIHdpbkhlaWdodCArIHNjcm9sbFBvc2l0aW9uICkgPj0gY29sbGVjdGlvblRvcCApICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wYXJhbGF4KCAkKCcuY29sbGVjdGlvbiAuc2l0ZV9fdGl0bGUnKSwgMCwgc2Nyb2xsUG9zaXRpb24gLSAoY29sbGVjdGlvblRvcCAtIHdpbkhlaWdodCksIGNvbGxlY3Rpb25IZWlnaHQqMC4zLyhjb2xsZWN0aW9uSGVpZ2h0ICsgd2luSGVpZ2h0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wYXJhbGF4KCAkKCcuY29sbGVjdGlvbl9fcGljJyksIDAsIHNjcm9sbFBvc2l0aW9uIC0gKGNvbGxlY3Rpb25Ub3AgLSB3aW5IZWlnaHQpLCBjb2xsZWN0aW9uSGVpZ2h0KjAuMTUvKGNvbGxlY3Rpb25IZWlnaHQgKyB3aW5IZWlnaHQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BhcmFsYXgoICQoJy5jb2xsZWN0aW9uX193cmFwJyksIHNjcm9sbFBvc2l0aW9uIC0gKGNvbGxlY3Rpb25Ub3AgLSB3aW5IZWlnaHQpLCAwLCBjb2xsZWN0aW9uSGVpZ2h0KjAuMDUvKGNvbGxlY3Rpb25IZWlnaHQgKyB3aW5IZWlnaHQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL211c3QtaGF2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKCBzY3JvbGxQb3NpdGlvbiA8PSAoIG11c3RIYXZlVG9wICsgbXVzdEhhdmVIZWlnaHQgKSAmJiAoICggd2luSGVpZ2h0ICsgc2Nyb2xsUG9zaXRpb24gKSA+PSBtdXN0SGF2ZVRvcCApICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wYXJhbGF4KCAkKCcubXVzdC1oYXZlIC5zaXRlX190aXRsZScpLCAwLCBzY3JvbGxQb3NpdGlvbiAtIChtdXN0SGF2ZVRvcCAtIHdpbkhlaWdodCksIG11c3RIYXZlSGVpZ2h0KjAuMy8obXVzdEhhdmVIZWlnaHQgKyB3aW5IZWlnaHQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL211c3QtaGF2ZS1iZzFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICggc2Nyb2xsUG9zaXRpb24gPD0gKCBtdXN0SGF2ZUJnMVRvcCArIG11c3RIYXZlQmcxSGVpZ2h0ICkgJiYgKCAoIHdpbkhlaWdodCArIHNjcm9sbFBvc2l0aW9uICkgPj0gbXVzdEhhdmVCZzFUb3AgKSApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGFyYWxheCggJCgnLm11c3QtaGF2ZV9fYmcnKS5lcSgwKSwgMCwgc2Nyb2xsUG9zaXRpb24gLSAobXVzdEhhdmVCZzFUb3AgLSB3aW5IZWlnaHQpLCBtdXN0SGF2ZUJnMUhlaWdodCooLTAuMSkvKG11c3RIYXZlQmcxSGVpZ2h0ICsgd2luSGVpZ2h0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tdXN0LWhhdmUtYmcyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAoIHNjcm9sbFBvc2l0aW9uIDw9ICggbXVzdEhhdmVCZzJUb3AgKyBtdXN0SGF2ZUJnMkhlaWdodCApICYmICggKCB3aW5IZWlnaHQgKyBzY3JvbGxQb3NpdGlvbiApID49IG11c3RIYXZlQmcyVG9wICkgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BhcmFsYXgoICQoJy5tdXN0LWhhdmVfX2JnJykuZXEoMSksIDAsIHNjcm9sbFBvc2l0aW9uIC0gKG11c3RIYXZlVG9wIC0gd2luSGVpZ2h0KSwgbXVzdEhhdmVCZzJIZWlnaHQqMC4xLyhtdXN0SGF2ZUJnMkhlaWdodCArIHdpbkhlaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbW9zdC13YW50ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICggc2Nyb2xsUG9zaXRpb24gPD0gKCBtb3N0V2FudGVkVG9wICsgbW9zdFdhbnRlZEhlaWdodCApICYmICggKCB3aW5IZWlnaHQgKyBzY3JvbGxQb3NpdGlvbiApID49IG1vc3RXYW50ZWRUb3AgKSApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGFyYWxheCggJCgnLm1vc3Qtd2FudGVkIC5zaXRlX190aXRsZScpLCAwLCBzY3JvbGxQb3NpdGlvbiAtIChtb3N0V2FudGVkVG9wIC0gd2luSGVpZ2h0KSwgbW9zdFdhbnRlZEhlaWdodCowLjMvKG1vc3RXYW50ZWRIZWlnaHQgKyB3aW5IZWlnaHQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3NhbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICggc2Nyb2xsUG9zaXRpb24gPD0gKCBzYWxlVG9wICsgc2FsZUhlaWdodCApICYmICggKCB3aW5IZWlnaHQgKyBzY3JvbGxQb3NpdGlvbiApID49IHNhbGVUb3AgKSApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGFyYWxheCggJCgnLnNhbGUgLnNpdGVfX3RpdGxlJyksIDAsIHNjcm9sbFBvc2l0aW9uIC0gKHNhbGVUb3AgLSB3aW5IZWlnaHQpLCBzYWxlSGVpZ2h0KjAuMy8oc2FsZUhlaWdodCArIHdpbkhlaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGFyYWxheCggJCgnLnNhbGVfX2JnJyksIDAsIHNjcm9sbFBvc2l0aW9uIC0gKHNhbGVUb3AgLSB3aW5IZWlnaHQpLCBzYWxlSGVpZ2h0KjAuMi8oc2FsZUhlaWdodCArIHdpbkhlaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAoIHNjcm9sbFBvc2l0aW9uIDw9ICggaGVhZGVyVG9wICsgaGVhZGVySGVpZ2h0ICkgJiYgKCAoIHdpbkhlaWdodCArIHNjcm9sbFBvc2l0aW9uICkgPj0gaGVhZGVyVG9wICkgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BhcmFsYXgoICQoJy5zaXRlX19oZWFkZXItYmcnKSwgMCwgc2Nyb2xsUG9zaXRpb24sIGhlYWRlckhlaWdodCowLjUvKGhlYWRlckhlaWdodCArIHdpbkhlaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NyZWF0ZVRpdGxlID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBlbGVtLnRleHQoKS5yZXBsYWNlKC9cXHMvZywgXCJcIiksXG4gICAgICAgICAgICAgICAgICAgIGFyciA9IGxpbmUuc3BsaXQoJycpLFxuICAgICAgICAgICAgICAgICAgICBhcnJMZW5ndGggPSBhcnIubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgZWxlbS50ZXh0KCcnKTtcblxuICAgICAgICAgICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IGFyckxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW0uYXBwZW5kKCc8c3Bhbj4nICsgYXJyW2ldICsgJzwvc3Bhbj4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3BhcmFsYXggPSBmdW5jdGlvbiggZWxlbSwgeCwgeSwga29lZiApIHtcbiAgICAgICAgICAgICAgICBlbGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSgnICsgeCprb2VmICsgJ3B4LCAnICsgeSprb2VmICsgICdweCApJ1xuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfYWRkQ3VzdG9tU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICBfc2l0ZVRpdGxlLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBfY3JlYXRlVGl0bGUoICQodGhpcykgKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
